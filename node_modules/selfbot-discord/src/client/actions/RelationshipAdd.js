const Action = require('./Action');

class RelationshipAddAction extends Action {
  async handle(data) {
    const relation = this.client.dataManager.newRelation(data);
    
    return { relation };
    
    /*
    // const prout = await this.client.fetchUser(data.id);
    // console.log("prout",prout);
    
    console.log("relation1", relation);
    
    if (!relation.user.id) relation.user = await this.client.fetchUser(data.id);
    
    console.log("relation2", relation);
    
    return { relation };
    
    
    console.log("relation1", relation);
    
    this.client.fetchUser(data.id).then(user => {
      relation.user = user;
      console.log("relation2", relation);
      return { relation };
    }).catch(error => {
      return { relation }; // .finally = flemme
    });
    */
  }
}

module.exports = RelationshipAddAction;